---
layout: post
title: Does Solaris 11 Express Have a Failsafe Boot Option?
date: 2011-06-10 09:06:42.000000000 -07:00
tags:
- ZFS
- Solaris 11 Express
- failsafe
type: post
published: false
---
<p>I was asked this question the other day: "Does Solaris 11 Express have a failsafe boot option like Solaris 10?"</p>
<p>The answer is: NO, and this applies to SPARC and x86.</p>
<p>The next question was: Why not?</p>
<p>Well, I'm not sure of the exact justification for this decision, but I suspect it's probably because snapshotting and boot environment management on Solaris 11 Express is so cheap and easy that there's really no excuse for you not to take a snapshot before making changes.</p>
<p>Solaris 11 Express will only install a ZFS root filesystem, so you WILL instantly get all the functionality of ZFS right at your fingertips. If you want to make a change, but want to be safe and have a recovery option, create a new boot environment BEFORE you make your change:  beadm create-image <new-name></p>
<p>You can then make your changes to your active boot environment and see how it goes.  If it breaks, simply select the "backup" BE and boot from that.</p>
<p>The same applies when it comes to performing updates.  pkg(1M) already takes the initiative to create snapshots as it applies the updates so in the event something goes wrong during the pkg update, all changes will be rolled back and your system won't be left with dangling changes.</p>
<p>If you want to be extra safe, you can create a new BE when you run "pkg update".</p>
<p>As it's using ZFS, the amount of space taken by the new BE is a fraction of that that the original takes, but as the new BE changes, the amount of space used will increase.<br />
</new-name></p>
