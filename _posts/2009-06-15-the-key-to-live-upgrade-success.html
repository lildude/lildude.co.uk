---
layout: post
title: The Key to Live Upgrade Success
date: 2009-06-15 10:28:26.000000000 -07:00
tags:
- Software
- Operating Systems
- Solaris
- Live Upgrade
- upgrade
- patches
type: post
published: true
---
<p>I think one of the best features of Solaris is the Live Upgrade mechanism.  This really useful feature can be used for upgrading and patching with very little impact on the server.  This means you can patch or upgrade your production system, whilst it's still in production, and only schedule a short outage for the reboot needed to activate the new patched/upgraded environment.  Live upgrade also has the added benefit that you can roll back to a known good boot environment in the event something goes wrong. </p>
<p>Sadly, it's not always a bed of roses when it comes to using live upgrade as things change with patches and new bugs are discovered and fixed, however most problems can be easily avoided with a little bit of pre-planning.</p>
<p><!--more-->I'm not going to go into the details of how to use live upgrade for patching or upgrading as there are plenty of docs about this already, eg the installation guides on <a href="http://docs.sun.com">docs.sun.com</a>, and various docs on BigAdmin like <a href="http://www.sun.com/offers/docs/live_upgrade_howto.pdf">the Live Upgrade HOWTO</a> and the <a href="http://www.sun.com/bigadmin/sundocs/articles/lu-patch.jsp">How To Use Solaris Live Upgrade to Install Patches</a> docs. </p>
<p>What this post is about is ensuring you start out right. The most important, and now useful document on Sunsolve for live upgrade is:</p>
<p><strong>Doc ID: <a href="http://sunsolve.sun.com/search/document.do?assetkey=1-61-206844-1">206844</a><br />
Title: Solaris Live Upgrade Software: Minimum Patch Requirements</strong></p>
<p>This document used to be a very crude table of patches, but thanks to a recent update, it's a lot more useful and provides a lot more information, along with the list of recommended patches needed to make your live upgrade process a lot easier. Most documents also neglect to mention this document for some reason, which is a shame as I believe it's probably the key to live upgrade success.</p>
<p>Unfortunately, what this document doesn't do is resolve the catch-22 situation you're likely to encounter if you're way behind on patches: you need to ensure you meet the minimum patch levels in order to ensure a better live upgrade experience, however live upgrade is one mechanism used for patching.  </p>
<p>You could try using live upgrade to do get your patching up to date, but there's a very good chance you'll encounter problems resolved by the patches you're trying to apply.  So the best option is to schedule a relatively long outage, boot into single user mode and get your system patched to the minimum levels.</p>
<p>Once up to date, future live upgrades (upgrades and patching) should be significantly easier and quicker, especially when you consider that the live upgrade patch itself, in which most of the latest live upgrade issues are resolved, can be applied without taking the system down.</p>
<p>So if you plan on using live upgrade for patching and upgrading (highly recommended), take some time to ensure your system meets the minimum patch levels before diving in.  It'll save you a lot of time and frustration in the long run.</p>
